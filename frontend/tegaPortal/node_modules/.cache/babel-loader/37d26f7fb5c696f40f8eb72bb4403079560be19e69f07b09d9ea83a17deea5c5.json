{"ast":null,"code":"var _jsxFileName = \"D:\\\\AUCA\\\\AUCA INNOVATION CENTER\\\\WebTech\\\\Final\\\\TegaBus\\\\frontend\\\\tegaPortal\\\\src\\\\views\\\\admin\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport CardStats from \"components/Cards/CardStats.js\";\nimport CardTable from \"components/Cards/CardTable.js\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Reports() {\n  _s();\n  // State for report configuration\n  const [reportType, setReportType] = useState(\"overview\");\n  const [reportPeriod, setReportPeriod] = useState(\"weekly\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [destination, setDestination] = useState(\"\");\n  const [destinations, setDestinations] = useState([]);\n\n  // State for report data\n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tableData, setTableData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // State for chart data\n  const [charts, setCharts] = useState(null);\n\n  // Fetch destinations on component mount\n  useEffect(() => {\n    const fetchDestinations = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/reports/destinations\");\n        if (!response.ok) throw new Error(\"Failed to fetch destinations\");\n        const data = await response.json();\n        setDestinations(data);\n      } catch (error) {\n        toast.error(`Error fetching destinations: ${error.message}`);\n      }\n    };\n    fetchDestinations();\n  }, []);\n\n  // Generate report data\n  const handleGenerateReport = async () => {\n    if (!startDate || !endDate) {\n      toast.error(\"Please select both start and end dates\");\n      return;\n    }\n    if (reportType === \"destination\" && !destination) {\n      toast.error(\"Please select a destination\");\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const startMillis = new Date(startDate).getTime();\n      const endMillis = new Date(endDate).getTime();\n      let url = `http://localhost:5000/api/reports/summary?start=${startMillis}&end=${endMillis}&period=${reportPeriod}`;\n      if (reportType === \"destination\") {\n        url += `&destination=${encodeURIComponent(destination)}`;\n      }\n      const response = await fetch(url);\n      if (!response.ok) throw new Error(\"Failed to fetch report data\");\n      const data = await response.json();\n      setTotalRevenue(data.totalRevenue);\n      setTotalTickets(data.totalTickets);\n      setTableData(data.tickets);\n      const revenueChart = {\n        type: \"line\",\n        data: {\n          labels: data.labels,\n          datasets: [{\n            label: \"Revenue (RWF)\",\n            data: data.revenueData,\n            borderColor: \"rgb(59,130,246)\",\n            backgroundColor: \"rgba(59,130,246,0.1)\",\n            fill: true,\n            tension: 0.4\n          }]\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: \"Revenue (RWF)\"\n              }\n            },\n            x: {\n              title: {\n                display: true,\n                text: \"Date\"\n              }\n            }\n          }\n        }\n      };\n      const ticketChart = {\n        type: \"bar\",\n        data: {\n          labels: data.labels,\n          datasets: [{\n            label: \"Tickets Sold\",\n            data: data.ticketData,\n            backgroundColor: \"rgba(34,197,94,0.8)\",\n            borderColor: \"rgb(34,197,94)\",\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: \"Tickets Sold\"\n              }\n            },\n            x: {\n              title: {\n                display: true,\n                text: \"Date\"\n              }\n            }\n          }\n        }\n      };\n      setCharts({\n        revenueChart,\n        ticketChart\n      });\n      toast.success(\"Report generated successfully!\");\n    } catch (error) {\n      toast.error(`Error generating report: ${error.message}`);\n      setCharts(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Export report as CSV\n  const handleExportReport = () => {\n    if (tableData.length === 0) {\n      toast.error(\"No data to export\");\n      return;\n    }\n    const csvContent = [[\"Date\", \"Destination\", \"Tickets Sold\", \"Revenue\", \"Status\"], ...tableData.map(ticket => {\n      var _ticket$schedule;\n      return [new Date(ticket.date).toLocaleDateString(), ((_ticket$schedule = ticket.schedule) === null || _ticket$schedule === void 0 ? void 0 : _ticket$schedule.destination) || \"N/A\", 1, `RWF ${ticket.totalAmount.toLocaleString()}`, ticket.payState];\n    })].map(row => row.join(\",\")).join(\"\\n\");\n    const blob = new Blob([csvContent], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = `report_${startDate}_${endDate}.csv`;\n    link.click();\n    toast.success(\"Report exported successfully!\");\n  };\n\n  // Render charts\n  const Charts = () => {\n    if (!charts) {\n      return null;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-t mb-0 px-4 py-3 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg text-blueGray-700\",\n              children: \"Revenue Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block w-full\",\n            children: charts.revenueChart.data.labels.length > 0 && ```chartjs\n                {\n                  \"type\": \"line\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.revenueChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Revenue (RWF)\",\n                        \"data\": ${JSON.stringify(charts.revenueChart.data.datasets[0].data)},\n                        \"borderColor\": \"rgb(59,130,246)\",\n                        \"backgroundColor\": \"rgba(59,130,246,0.1)\",\n                        \"fill\": true,\n                        \"tension\": 0.4\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Revenue (RWF)\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-4/12 px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-t mb-0 px-4 py-3 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg text-blueGray-700\",\n              children: \"Ticket Sales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block w-full\",\n            children: charts.ticketChart.data.labels.length > 0 && ```chartjs\n                {\n                  \"type\": \"bar\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.ticketChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Tickets Sold\",\n                        \"data\": ${JSON.stringify(charts.ticketChart.data.datasets[0].data)},\n                        \"backgroundColor\": \"rgba(34,197,94,0.8)\",\n                        \"borderColor\": \"rgb(34,197,94)\",\n                        \"borderWidth\": 1\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Tickets Sold\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 3000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\",\n        children: /*#__PURE__*/_jsxDEV(CardStats, {\n          statSubtitle: \"Total Revenue\",\n          statTitle: `RWF ${totalRevenue.toLocaleString()}`,\n          statArrow: \"up\",\n          statPercent: \"12\",\n          statPercentColor: \"text-emerald-500\",\n          statDescripiron: \"Since last month\",\n          statIconName: \"fas fa-dollar-sign\",\n          statIconColor: \"bg-emerald-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-4/12 px-4\",\n        children: /*#__PURE__*/_jsxDEV(CardStats, {\n          statSubtitle: \"Total Tickets\",\n          statTitle: totalTickets.toLocaleString(),\n          statArrow: \"up\",\n          statPercent: \"3.48\",\n          statPercentColor: \"text-emerald-500\",\n          statDescripiron: \"Since last week\",\n          statIconName: \"fas fa-ticket-alt\",\n          statIconColor: \"bg-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-6\",\n            children: \"Report Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Report Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: reportType,\n                onChange: e => setReportType(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"overview\",\n                  children: \"Overview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"revenue\",\n                  children: \"Revenue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"tickets\",\n                  children: \"Tickets\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"destination\",\n                  children: \"Destination\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), reportType === \"destination\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Destination\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: destination,\n                onChange: e => setDestination(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Destination\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), destinations.map(dest => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dest,\n                  children: dest\n                }, dest, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Report Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: reportPeriod,\n                onChange: e => setReportPeriod(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"daily\",\n                  children: \"Daily\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"weekly\",\n                  children: \"Weekly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: startDate,\n                onChange: e => setStartDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"End Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: endDate,\n                onChange: e => setEndDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGenerateReport,\n              disabled: isLoading,\n              className: `px-6 py-2 text-white rounded-md transition-colors font-medium ${isLoading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-500 hover:bg-red-600\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-line mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), isLoading ? \"Generating...\" : \"Generate Report\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExportReport,\n              disabled: isLoading || tableData.length === 0,\n              className: `px-6 py-2 text-white rounded-md transition-colors font-medium ${isLoading || tableData.length === 0 ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-500 hover:bg-green-600\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-download mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), \"Export Report\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Charts, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full px-4\",\n        children: /*#__PURE__*/_jsxDEV(CardTable, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-t mb-0 px-4 py-3 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center justify-between\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full px-4 max-w-full flex-grow flex-1\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-lg text-blueGray-700\",\n                  children: \"Detailed Report Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block w-full overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"items-center w-full bg-transparent border-collapse\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Destination\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Tickets Sold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Revenue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: tableData.map(ticket => {\n                  var _ticket$schedule2;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: new Date(ticket.date).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: ((_ticket$schedule2 = ticket.schedule) === null || _ticket$schedule2 === void 0 ? void 0 : _ticket$schedule2.destination) || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: `RWF ${ticket.totalAmount.toLocaleString()}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas fa-circle mr-2 ${ticket.payState === \"PAID\" ? \"text-emerald-500\" : \"text-orange-500\"}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 25\n                      }, this), ticket.payState]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 23\n                    }, this)]\n                  }, ticket.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Reports, \"OyvuAC5ONpXT837wP8ACmHzutoE=\");\n_c = Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","CardStats","CardTable","toast","ToastContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","Reports","_s","reportType","setReportType","reportPeriod","setReportPeriod","startDate","setStartDate","endDate","setEndDate","destination","setDestination","destinations","setDestinations","totalRevenue","setTotalRevenue","totalTickets","setTotalTickets","tableData","setTableData","isLoading","setIsLoading","charts","setCharts","fetchDestinations","response","fetch","ok","Error","data","json","error","message","handleGenerateReport","startMillis","Date","getTime","endMillis","url","encodeURIComponent","tickets","revenueChart","type","labels","datasets","label","revenueData","borderColor","backgroundColor","fill","tension","options","responsive","scales","y","beginAtZero","title","display","text","x","ticketChart","ticketData","borderWidth","success","handleExportReport","length","csvContent","map","ticket","_ticket$schedule","date","toLocaleDateString","schedule","totalAmount","toLocaleString","payState","row","join","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","Charts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","JSON","stringify","position","autoClose","statSubtitle","statTitle","statArrow","statPercent","statPercentColor","statDescripiron","statIconName","statIconColor","value","onChange","e","target","dest","onClick","disabled","_ticket$schedule2","id","_c","$RefreshReg$"],"sources":["D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/src/views/admin/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CardStats from \"components/Cards/CardStats.js\";\nimport CardTable from \"components/Cards/CardTable.js\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function Reports() {\n  // State for report configuration\n  const [reportType, setReportType] = useState(\"overview\");\n  const [reportPeriod, setReportPeriod] = useState(\"weekly\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [destination, setDestination] = useState(\"\");\n  const [destinations, setDestinations] = useState([]);\n\n  // State for report data\n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tableData, setTableData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // State for chart data\n  const [charts, setCharts] = useState(null);\n\n  // Fetch destinations on component mount\n  useEffect(() => {\n    const fetchDestinations = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/reports/destinations\");\n        if (!response.ok) throw new Error(\"Failed to fetch destinations\");\n        const data = await response.json();\n        setDestinations(data);\n      } catch (error) {\n        toast.error(`Error fetching destinations: ${error.message}`);\n      }\n    };\n    fetchDestinations();\n  }, []);\n\n  // Generate report data\n  const handleGenerateReport = async () => {\n    if (!startDate || !endDate) {\n      toast.error(\"Please select both start and end dates\");\n      return;\n    }\n    if (reportType === \"destination\" && !destination) {\n      toast.error(\"Please select a destination\");\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const startMillis = new Date(startDate).getTime();\n      const endMillis = new Date(endDate).getTime();\n      let url = `http://localhost:5000/api/reports/summary?start=${startMillis}&end=${endMillis}&period=${reportPeriod}`;\n      if (reportType === \"destination\") {\n        url += `&destination=${encodeURIComponent(destination)}`;\n      }\n\n      const response = await fetch(url);\n      if (!response.ok) throw new Error(\"Failed to fetch report data\");\n      const data = await response.json();\n\n      setTotalRevenue(data.totalRevenue);\n      setTotalTickets(data.totalTickets);\n      setTableData(data.tickets);\n\n      const revenueChart = {\n        type: \"line\",\n        data: {\n          labels: data.labels,\n          datasets: [\n            {\n              label: \"Revenue (RWF)\",\n              data: data.revenueData,\n              borderColor: \"rgb(59,130,246)\",\n              backgroundColor: \"rgba(59,130,246,0.1)\",\n              fill: true,\n              tension: 0.4,\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: { beginAtZero: true, title: { display: true, text: \"Revenue (RWF)\" } },\n            x: { title: { display: true, text: \"Date\" } },\n          },\n        },\n      };\n\n      const ticketChart = {\n        type: \"bar\",\n        data: {\n          labels: data.labels,\n          datasets: [\n            {\n              label: \"Tickets Sold\",\n              data: data.ticketData,\n              backgroundColor: \"rgba(34,197,94,0.8)\",\n              borderColor: \"rgb(34,197,94)\",\n              borderWidth: 1,\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: { beginAtZero: true, title: { display: true, text: \"Tickets Sold\" } },\n            x: { title: { display: true, text: \"Date\" } },\n          },\n        },\n      };\n\n      setCharts({ revenueChart, ticketChart });\n      toast.success(\"Report generated successfully!\");\n    } catch (error) {\n      toast.error(`Error generating report: ${error.message}`);\n      setCharts(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Export report as CSV\n  const handleExportReport = () => {\n    if (tableData.length === 0) {\n      toast.error(\"No data to export\");\n      return;\n    }\n\n    const csvContent = [\n      [\"Date\", \"Destination\", \"Tickets Sold\", \"Revenue\", \"Status\"],\n      ...tableData.map((ticket) => [\n        new Date(ticket.date).toLocaleDateString(),\n        ticket.schedule?.destination || \"N/A\",\n        1,\n        `RWF ${ticket.totalAmount.toLocaleString()}`,\n        ticket.payState,\n      ]),\n    ]\n      .map((row) => row.join(\",\"))\n      .join(\"\\n\");\n\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = `report_${startDate}_${endDate}.csv`;\n    link.click();\n    toast.success(\"Report exported successfully!\");\n  };\n\n  // Render charts\n  const Charts = () => {\n    if (!charts) {\n      return null;\n    }\n\n    return (\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\">\n          <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <h3 className=\"font-semibold text-lg text-blueGray-700\">Revenue Trend</h3>\n            </div>\n            <div className=\"block w-full\">\n              {charts.revenueChart.data.labels.length > 0 && (\n                ```chartjs\n                {\n                  \"type\": \"line\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.revenueChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Revenue (RWF)\",\n                        \"data\": ${JSON.stringify(charts.revenueChart.data.datasets[0].data)},\n                        \"borderColor\": \"rgb(59,130,246)\",\n                        \"backgroundColor\": \"rgba(59,130,246,0.1)\",\n                        \"fill\": true,\n                        \"tension\": 0.4\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Revenue (RWF)\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"w-full xl:w-4/12 px-4\">\n          <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <h3 className=\"font-semibold text-lg text-blueGray-700\">Ticket Sales</h3>\n            </div>\n            <div className=\"block w-full\">\n              {charts.ticketChart.data.labels.length > 0 && (\n                ```chartjs\n                {\n                  \"type\": \"bar\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.ticketChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Tickets Sold\",\n                        \"data\": ${JSON.stringify(charts.ticketChart.data.datasets[0].data)},\n                        \"backgroundColor\": \"rgba(34,197,94,0.8)\",\n                        \"borderColor\": \"rgb(34,197,94)\",\n                        \"borderWidth\": 1\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Tickets Sold\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n      {/* Stats Cards */}\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\">\n          <CardStats\n            statSubtitle=\"Total Revenue\"\n            statTitle={`RWF ${totalRevenue.toLocaleString()}`}\n            statArrow=\"up\"\n            statPercent=\"12\"\n            statPercentColor=\"text-emerald-500\"\n            statDescripiron=\"Since last month\"\n            statIconName=\"fas fa-dollar-sign\"\n            statIconColor=\"bg-emerald-500\"\n          />\n        </div>\n        <div className=\"w-full xl:w-4/12 px-4\">\n          <CardStats\n            statSubtitle=\"Total Tickets\"\n            statTitle={totalTickets.toLocaleString()}\n            statArrow=\"up\"\n            statPercent=\"3.48\"\n            statPercentColor=\"text-emerald-500\"\n            statDescripiron=\"Since last week\"\n            statIconName=\"fas fa-ticket-alt\"\n            statIconColor=\"bg-red-500\"\n          />\n        </div>\n      </div>\n\n      {/* Report Configuration */}\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full px-4\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-6\">Report Configuration</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Report Type</label>\n                <select\n                  value={reportType}\n                  onChange={(e) => setReportType(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"overview\">Overview</option>\n                  <option value=\"revenue\">Revenue</option>\n                  <option value=\"tickets\">Tickets</option>\n                  <option value=\"destination\">Destination</option>\n                </select>\n              </div>\n              {reportType === \"destination\" && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Destination</label>\n                  <select\n                    value={destination}\n                    onChange={(e) => setDestination(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select Destination</option>\n                    {destinations.map((dest) => (\n                      <option key={dest} value={dest}>\n                        {dest}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Report Period</label>\n                <select\n                  value={reportPeriod}\n                  onChange={(e) => setReportPeriod(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"daily\">Daily</option>\n                  <option value=\"weekly\">Weekly</option>\n                  <option value=\"monthly\">Monthly</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Start Date</label>\n                <input\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">End Date</label>\n                <input\n                  type=\"date\"\n                  value={endDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={handleGenerateReport}\n                disabled={isLoading}\n                className={`px-6 py-2 text-white rounded-md transition-colors font-medium ${\n                  isLoading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-500 hover:bg-red-600\"\n                }`}\n              >\n                <i className=\"fas fa-chart-line mr-2\"></i>\n                {isLoading ? \"Generating...\" : \"Generate Report\"}\n              </button>\n              <button\n                onClick={handleExportReport}\n                disabled={isLoading || tableData.length === 0}\n                className={`px-6 py-2 text-white rounded-md transition-colors font-medium ${\n                  isLoading || tableData.length === 0 ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-500 hover:bg-green-600\"\n                }`}\n              >\n                <i className=\"fas fa-download mr-2\"></i>\n                Export Report\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Charts */}\n      <Charts />\n\n      {/* Detailed Report Table */}\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full px-4\">\n          <CardTable>\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <div className=\"flex flex-wrap items-center justify-between\">\n                <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n                  <h3 className=\"font-semibold text-lg text-blueGray-700\">Detailed Report Data</h3>\n                </div>\n              </div>\n            </div>\n            <div className=\"block w-full overflow-x-auto\">\n              <table className=\"items-center w-full bg-transparent border-collapse\">\n                <thead>\n                  <tr>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Date</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Destination</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Tickets Sold</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Revenue</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tableData.map((ticket) => (\n                    <tr key={ticket.id}>\n                      <td className=\"px-6 py-4\">{new Date(ticket.date).toLocaleDateString()}</td>\n                      <td className=\"px-6 py-4\">{ticket.schedule?.destination || \"N/A\"}</td>\n                      <td className=\"px-6 py-4\">1</td>\n                      <td className=\"px-6 py-4\">{`RWF ${ticket.totalAmount.toLocaleString()}`}</td>\n                      <td className=\"px-6 py-4\">\n                        <i\n                          className={`fas fa-circle mr-2 ${\n                            ticket.payState === \"PAID\" ? \"text-emerald-500\" : \"text-orange-500\"\n                          }`}\n                        ></i>\n                        {ticket.payState}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardTable>\n        </div>\n      </div>\n    </>\n  );\n} "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,+BAA+B;AACrD,OAAOC,SAAS,MAAM,+BAA+B;AACrD,SAASC,KAAK,EAAEC,cAAc,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,UAAU,CAAC;EACxD,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,QAAQ,CAAC;EAC1D,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;;EAEpD;EACA,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAAC0B,YAAY,EAAEC,eAAe,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC8B,SAAS,EAAEC,YAAY,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACA,MAAM,CAACgC,MAAM,EAAEC,SAAS,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;;EAE1C;EACAC,SAAS,CAAC,MAAM;IACd,MAAMiC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gDAAgD,CAAC;QAC9E,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;QACjE,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClCjB,eAAe,CAACgB,IAAI,CAAC;MACvB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdrC,KAAK,CAACqC,KAAK,CAAC,gCAAgCA,KAAK,CAACC,OAAO,EAAE,CAAC;MAC9D;IACF,CAAC;IACDR,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMS,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI,CAAC3B,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1Bd,KAAK,CAACqC,KAAK,CAAC,wCAAwC,CAAC;MACrD;IACF;IACA,IAAI7B,UAAU,KAAK,aAAa,IAAI,CAACQ,WAAW,EAAE;MAChDhB,KAAK,CAACqC,KAAK,CAAC,6BAA6B,CAAC;MAC1C;IACF;IAEAV,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMa,WAAW,GAAG,IAAIC,IAAI,CAAC7B,SAAS,CAAC,CAAC8B,OAAO,CAAC,CAAC;MACjD,MAAMC,SAAS,GAAG,IAAIF,IAAI,CAAC3B,OAAO,CAAC,CAAC4B,OAAO,CAAC,CAAC;MAC7C,IAAIE,GAAG,GAAG,mDAAmDJ,WAAW,QAAQG,SAAS,WAAWjC,YAAY,EAAE;MAClH,IAAIF,UAAU,KAAK,aAAa,EAAE;QAChCoC,GAAG,IAAI,gBAAgBC,kBAAkB,CAAC7B,WAAW,CAAC,EAAE;MAC1D;MAEA,MAAMe,QAAQ,GAAG,MAAMC,KAAK,CAACY,GAAG,CAAC;MACjC,IAAI,CAACb,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAChE,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAElCf,eAAe,CAACc,IAAI,CAACf,YAAY,CAAC;MAClCG,eAAe,CAACY,IAAI,CAACb,YAAY,CAAC;MAClCG,YAAY,CAACU,IAAI,CAACW,OAAO,CAAC;MAE1B,MAAMC,YAAY,GAAG;QACnBC,IAAI,EAAE,MAAM;QACZb,IAAI,EAAE;UACJc,MAAM,EAAEd,IAAI,CAACc,MAAM;UACnBC,QAAQ,EAAE,CACR;YACEC,KAAK,EAAE,eAAe;YACtBhB,IAAI,EAAEA,IAAI,CAACiB,WAAW;YACtBC,WAAW,EAAE,iBAAiB;YAC9BC,eAAe,EAAE,sBAAsB;YACvCC,IAAI,EAAE,IAAI;YACVC,OAAO,EAAE;UACX,CAAC;QAEL,CAAC;QACDC,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,MAAM,EAAE;YACNC,CAAC,EAAE;cAAEC,WAAW,EAAE,IAAI;cAAEC,KAAK,EAAE;gBAAEC,OAAO,EAAE,IAAI;gBAAEC,IAAI,EAAE;cAAgB;YAAE,CAAC;YACzEC,CAAC,EAAE;cAAEH,KAAK,EAAE;gBAAEC,OAAO,EAAE,IAAI;gBAAEC,IAAI,EAAE;cAAO;YAAE;UAC9C;QACF;MACF,CAAC;MAED,MAAME,WAAW,GAAG;QAClBlB,IAAI,EAAE,KAAK;QACXb,IAAI,EAAE;UACJc,MAAM,EAAEd,IAAI,CAACc,MAAM;UACnBC,QAAQ,EAAE,CACR;YACEC,KAAK,EAAE,cAAc;YACrBhB,IAAI,EAAEA,IAAI,CAACgC,UAAU;YACrBb,eAAe,EAAE,qBAAqB;YACtCD,WAAW,EAAE,gBAAgB;YAC7Be,WAAW,EAAE;UACf,CAAC;QAEL,CAAC;QACDX,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,MAAM,EAAE;YACNC,CAAC,EAAE;cAAEC,WAAW,EAAE,IAAI;cAAEC,KAAK,EAAE;gBAAEC,OAAO,EAAE,IAAI;gBAAEC,IAAI,EAAE;cAAe;YAAE,CAAC;YACxEC,CAAC,EAAE;cAAEH,KAAK,EAAE;gBAAEC,OAAO,EAAE,IAAI;gBAAEC,IAAI,EAAE;cAAO;YAAE;UAC9C;QACF;MACF,CAAC;MAEDnC,SAAS,CAAC;QAAEkB,YAAY;QAAEmB;MAAY,CAAC,CAAC;MACxClE,KAAK,CAACqE,OAAO,CAAC,gCAAgC,CAAC;IACjD,CAAC,CAAC,OAAOhC,KAAK,EAAE;MACdrC,KAAK,CAACqC,KAAK,CAAC,4BAA4BA,KAAK,CAACC,OAAO,EAAE,CAAC;MACxDT,SAAS,CAAC,IAAI,CAAC;IACjB,CAAC,SAAS;MACRF,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAM2C,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI9C,SAAS,CAAC+C,MAAM,KAAK,CAAC,EAAE;MAC1BvE,KAAK,CAACqC,KAAK,CAAC,mBAAmB,CAAC;MAChC;IACF;IAEA,MAAMmC,UAAU,GAAG,CACjB,CAAC,MAAM,EAAE,aAAa,EAAE,cAAc,EAAE,SAAS,EAAE,QAAQ,CAAC,EAC5D,GAAGhD,SAAS,CAACiD,GAAG,CAAEC,MAAM;MAAA,IAAAC,gBAAA;MAAA,OAAK,CAC3B,IAAIlC,IAAI,CAACiC,MAAM,CAACE,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAC1C,EAAAF,gBAAA,GAAAD,MAAM,CAACI,QAAQ,cAAAH,gBAAA,uBAAfA,gBAAA,CAAiB3D,WAAW,KAAI,KAAK,EACrC,CAAC,EACD,OAAO0D,MAAM,CAACK,WAAW,CAACC,cAAc,CAAC,CAAC,EAAE,EAC5CN,MAAM,CAACO,QAAQ,CAChB;IAAA,EAAC,CACH,CACER,GAAG,CAAES,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAC3BA,IAAI,CAAC,IAAI,CAAC;IAEb,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACb,UAAU,CAAC,EAAE;MAAExB,IAAI,EAAE;IAA0B,CAAC,CAAC;IACxE,MAAMsC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACxCF,IAAI,CAACG,IAAI,GAAGC,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC;IACrCE,IAAI,CAACM,QAAQ,GAAG,UAAUhF,SAAS,IAAIE,OAAO,MAAM;IACpDwE,IAAI,CAACO,KAAK,CAAC,CAAC;IACZ7F,KAAK,CAACqE,OAAO,CAAC,+BAA+B,CAAC;EAChD,CAAC;;EAED;EACA,MAAMyB,MAAM,GAAGA,CAAA,KAAM;IACnB,IAAI,CAAClE,MAAM,EAAE;MACX,OAAO,IAAI;IACb;IAEA,oBACEzB,OAAA;MAAK4F,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAClC7F,OAAA;QAAK4F,SAAS,EAAC,qCAAqC;QAAAC,QAAA,eAClD7F,OAAA;UAAK4F,SAAS,EAAC,mFAAmF;UAAAC,QAAA,gBAChG7F,OAAA;YAAK4F,SAAS,EAAC,mCAAmC;YAAAC,QAAA,eAChD7F,OAAA;cAAI4F,SAAS,EAAC,yCAAyC;cAAAC,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,cAAc;YAAAC,QAAA,EAC1BpE,MAAM,CAACmB,YAAY,CAACZ,IAAI,CAACc,MAAM,CAACsB,MAAM,GAAG,CAAC,IACzC,EAAE;AAClB;AACA;AACA;AACA,gCAAgC8B,IAAI,CAACC,SAAS,CAAC1E,MAAM,CAACmB,YAAY,CAACZ,IAAI,CAACc,MAAM,CAAC;AAC/E;AACA;AACA;AACA,kCAAkCoD,IAAI,CAACC,SAAS,CAAC1E,MAAM,CAACmB,YAAY,CAACZ,IAAI,CAACe,QAAQ,CAAC,CAAC,CAAC,CAACf,IAAI,CAAC;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;UACF;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNjG,OAAA;QAAK4F,SAAS,EAAC,uBAAuB;QAAAC,QAAA,eACpC7F,OAAA;UAAK4F,SAAS,EAAC,mFAAmF;UAAAC,QAAA,gBAChG7F,OAAA;YAAK4F,SAAS,EAAC,mCAAmC;YAAAC,QAAA,eAChD7F,OAAA;cAAI4F,SAAS,EAAC,yCAAyC;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtE,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,cAAc;YAAAC,QAAA,EAC1BpE,MAAM,CAACsC,WAAW,CAAC/B,IAAI,CAACc,MAAM,CAACsB,MAAM,GAAG,CAAC,IACxC,EAAE;AAClB;AACA;AACA;AACA,gCAAgC8B,IAAI,CAACC,SAAS,CAAC1E,MAAM,CAACsC,WAAW,CAAC/B,IAAI,CAACc,MAAM,CAAC;AAC9E;AACA;AACA;AACA,kCAAkCoD,IAAI,CAACC,SAAS,CAAC1E,MAAM,CAACsC,WAAW,CAAC/B,IAAI,CAACe,QAAQ,CAAC,CAAC,CAAC,CAACf,IAAI,CAAC;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;UACF;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,oBACEjG,OAAA,CAAAE,SAAA;IAAA2F,QAAA,gBACE7F,OAAA,CAACF,cAAc;MAACsG,QAAQ,EAAC,WAAW;MAACC,SAAS,EAAE;IAAK;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAExDjG,OAAA;MAAK4F,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAClC7F,OAAA;QAAK4F,SAAS,EAAC,qCAAqC;QAAAC,QAAA,eAClD7F,OAAA,CAACL,SAAS;UACR2G,YAAY,EAAC,eAAe;UAC5BC,SAAS,EAAE,OAAOtF,YAAY,CAAC4D,cAAc,CAAC,CAAC,EAAG;UAClD2B,SAAS,EAAC,IAAI;UACdC,WAAW,EAAC,IAAI;UAChBC,gBAAgB,EAAC,kBAAkB;UACnCC,eAAe,EAAC,kBAAkB;UAClCC,YAAY,EAAC,oBAAoB;UACjCC,aAAa,EAAC;QAAgB;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNjG,OAAA;QAAK4F,SAAS,EAAC,uBAAuB;QAAAC,QAAA,eACpC7F,OAAA,CAACL,SAAS;UACR2G,YAAY,EAAC,eAAe;UAC5BC,SAAS,EAAEpF,YAAY,CAAC0D,cAAc,CAAC,CAAE;UACzC2B,SAAS,EAAC,IAAI;UACdC,WAAW,EAAC,MAAM;UAClBC,gBAAgB,EAAC,kBAAkB;UACnCC,eAAe,EAAC,iBAAiB;UACjCC,YAAY,EAAC,mBAAmB;UAChCC,aAAa,EAAC;QAAY;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjG,OAAA;MAAK4F,SAAS,EAAC,qBAAqB;MAAAC,QAAA,eAClC7F,OAAA;QAAK4F,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1B7F,OAAA;UAAK4F,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrD7F,OAAA;YAAI4F,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClFjG,OAAA;YAAK4F,SAAS,EAAC,4CAA4C;YAAAC,QAAA,gBACzD7F,OAAA;cAAA6F,QAAA,gBACE7F,OAAA;gBAAO4F,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACnFjG,OAAA;gBACE8G,KAAK,EAAEzG,UAAW;gBAClB0G,QAAQ,EAAGC,CAAC,IAAK1G,aAAa,CAAC0G,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBAC/ClB,SAAS,EAAC,wGAAwG;gBAAAC,QAAA,gBAElH7F,OAAA;kBAAQ8G,KAAK,EAAC,UAAU;kBAAAjB,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1CjG,OAAA;kBAAQ8G,KAAK,EAAC,SAAS;kBAAAjB,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxCjG,OAAA;kBAAQ8G,KAAK,EAAC,SAAS;kBAAAjB,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxCjG,OAAA;kBAAQ8G,KAAK,EAAC,aAAa;kBAAAjB,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,EACL5F,UAAU,KAAK,aAAa,iBAC3BL,OAAA;cAAA6F,QAAA,gBACE7F,OAAA;gBAAO4F,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACnFjG,OAAA;gBACE8G,KAAK,EAAEjG,WAAY;gBACnBkG,QAAQ,EAAGC,CAAC,IAAKlG,cAAc,CAACkG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBAChDlB,SAAS,EAAC,wGAAwG;gBAAAC,QAAA,gBAElH7F,OAAA;kBAAQ8G,KAAK,EAAC,EAAE;kBAAAjB,QAAA,EAAC;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EAC3ClF,YAAY,CAACuD,GAAG,CAAE4C,IAAI,iBACrBlH,OAAA;kBAAmB8G,KAAK,EAAEI,IAAK;kBAAArB,QAAA,EAC5BqB;gBAAI,GADMA,IAAI;kBAAApB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAET,CACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CACN,eACDjG,OAAA;cAAA6F,QAAA,gBACE7F,OAAA;gBAAO4F,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACrFjG,OAAA;gBACE8G,KAAK,EAAEvG,YAAa;gBACpBwG,QAAQ,EAAGC,CAAC,IAAKxG,eAAe,CAACwG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBACjDlB,SAAS,EAAC,wGAAwG;gBAAAC,QAAA,gBAElH7F,OAAA;kBAAQ8G,KAAK,EAAC,OAAO;kBAAAjB,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCjG,OAAA;kBAAQ8G,KAAK,EAAC,QAAQ;kBAAAjB,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACtCjG,OAAA;kBAAQ8G,KAAK,EAAC,SAAS;kBAAAjB,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNjG,OAAA;cAAA6F,QAAA,gBACE7F,OAAA;gBAAO4F,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClFjG,OAAA;gBACE6C,IAAI,EAAC,MAAM;gBACXiE,KAAK,EAAErG,SAAU;gBACjBsG,QAAQ,EAAGC,CAAC,IAAKtG,YAAY,CAACsG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBAC9ClB,SAAS,EAAC;cAAwG;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNjG,OAAA;cAAA6F,QAAA,gBACE7F,OAAA;gBAAO4F,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChFjG,OAAA;gBACE6C,IAAI,EAAC,MAAM;gBACXiE,KAAK,EAAEnG,OAAQ;gBACfoG,QAAQ,EAAGC,CAAC,IAAKpG,UAAU,CAACoG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBAC5ClB,SAAS,EAAC;cAAwG;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7B7F,OAAA;cACEmH,OAAO,EAAE/E,oBAAqB;cAC9BgF,QAAQ,EAAE7F,SAAU;cACpBqE,SAAS,EAAE,iEACTrE,SAAS,GAAG,gCAAgC,GAAG,6BAA6B,EAC3E;cAAAsE,QAAA,gBAEH7F,OAAA;gBAAG4F,SAAS,EAAC;cAAwB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACzC1E,SAAS,GAAG,eAAe,GAAG,iBAAiB;YAAA;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC,eACTjG,OAAA;cACEmH,OAAO,EAAEhD,kBAAmB;cAC5BiD,QAAQ,EAAE7F,SAAS,IAAIF,SAAS,CAAC+C,MAAM,KAAK,CAAE;cAC9CwB,SAAS,EAAE,iEACTrE,SAAS,IAAIF,SAAS,CAAC+C,MAAM,KAAK,CAAC,GAAG,gCAAgC,GAAG,iCAAiC,EACzG;cAAAyB,QAAA,gBAEH7F,OAAA;gBAAG4F,SAAS,EAAC;cAAsB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,iBAE1C;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjG,OAAA,CAAC2F,MAAM;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAGVjG,OAAA;MAAK4F,SAAS,EAAC,qBAAqB;MAAAC,QAAA,eAClC7F,OAAA;QAAK4F,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1B7F,OAAA,CAACJ,SAAS;UAAAiG,QAAA,gBACR7F,OAAA;YAAK4F,SAAS,EAAC,mCAAmC;YAAAC,QAAA,eAChD7F,OAAA;cAAK4F,SAAS,EAAC,6CAA6C;cAAAC,QAAA,eAC1D7F,OAAA;gBAAK4F,SAAS,EAAC,kDAAkD;gBAAAC,QAAA,eAC/D7F,OAAA;kBAAI4F,SAAS,EAAC,yCAAyC;kBAAAC,QAAA,EAAC;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9E;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,8BAA8B;YAAAC,QAAA,eAC3C7F,OAAA;cAAO4F,SAAS,EAAC,oDAAoD;cAAAC,QAAA,gBACnE7F,OAAA;gBAAA6F,QAAA,eACE7F,OAAA;kBAAA6F,QAAA,gBACE7F,OAAA;oBAAI4F,SAAS,EAAC,oEAAoE;oBAAAC,QAAA,EAAC;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC5FjG,OAAA;oBAAI4F,SAAS,EAAC,oEAAoE;oBAAAC,QAAA,EAAC;kBAAW;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACnGjG,OAAA;oBAAI4F,SAAS,EAAC,oEAAoE;oBAAAC,QAAA,EAAC;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACpGjG,OAAA;oBAAI4F,SAAS,EAAC,oEAAoE;oBAAAC,QAAA,EAAC;kBAAO;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAC/FjG,OAAA;oBAAI4F,SAAS,EAAC,oEAAoE;oBAAAC,QAAA,EAAC;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5F;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACRjG,OAAA;gBAAA6F,QAAA,EACGxE,SAAS,CAACiD,GAAG,CAAEC,MAAM;kBAAA,IAAA8C,iBAAA;kBAAA,oBACpBrH,OAAA;oBAAA6F,QAAA,gBACE7F,OAAA;sBAAI4F,SAAS,EAAC,WAAW;sBAAAC,QAAA,EAAE,IAAIvD,IAAI,CAACiC,MAAM,CAACE,IAAI,CAAC,CAACC,kBAAkB,CAAC;oBAAC;sBAAAoB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAC3EjG,OAAA;sBAAI4F,SAAS,EAAC,WAAW;sBAAAC,QAAA,EAAE,EAAAwB,iBAAA,GAAA9C,MAAM,CAACI,QAAQ,cAAA0C,iBAAA,uBAAfA,iBAAA,CAAiBxG,WAAW,KAAI;oBAAK;sBAAAiF,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACtEjG,OAAA;sBAAI4F,SAAS,EAAC,WAAW;sBAAAC,QAAA,EAAC;oBAAC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAChCjG,OAAA;sBAAI4F,SAAS,EAAC,WAAW;sBAAAC,QAAA,EAAE,OAAOtB,MAAM,CAACK,WAAW,CAACC,cAAc,CAAC,CAAC;oBAAE;sBAAAiB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAC7EjG,OAAA;sBAAI4F,SAAS,EAAC,WAAW;sBAAAC,QAAA,gBACvB7F,OAAA;wBACE4F,SAAS,EAAE,sBACTrB,MAAM,CAACO,QAAQ,KAAK,MAAM,GAAG,kBAAkB,GAAG,iBAAiB;sBAClE;wBAAAgB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACD,CAAC,EACJ1B,MAAM,CAACO,QAAQ;oBAAA;sBAAAgB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACd,CAAC;kBAAA,GAZE1B,MAAM,CAAC+C,EAAE;oBAAAxB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAad,CAAC;gBAAA,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP;AAAC7F,EAAA,CAnZuBD,OAAO;AAAAoH,EAAA,GAAPpH,OAAO;AAAA,IAAAoH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
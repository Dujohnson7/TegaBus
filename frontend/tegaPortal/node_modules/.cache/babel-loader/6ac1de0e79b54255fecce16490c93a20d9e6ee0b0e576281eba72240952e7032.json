{"ast":null,"code":"var _jsxFileName = \"D:\\\\AUCA\\\\AUCA INNOVATION CENTER\\\\WebTech\\\\Final\\\\TegaBus\\\\frontend\\\\tegaPortal\\\\src\\\\views\\\\admin\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport CardStats from \"components/Cards/CardStats.js\";\nimport CardTable from \"components/Cards/CardTable.js\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Reports() {\n  _s();\n  const [reportType, setReportType] = useState(\"overview\");\n  const [reportPeriod, setReportPeriod] = useState(\"weekly\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [destination, setDestination] = useState(\"\");\n  const [destinations, setDestinations] = useState([]);\n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tableData, setTableData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    const fetchDestinations = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/reports/destinations\");\n        if (!response.ok) throw new Error(\"Failed to fetch destinations\");\n        const data = await response.json();\n        setDestinations(data);\n      } catch (error) {\n        toast.error(`Error fetching destinations: ${error.message}`);\n      }\n    };\n    fetchDestinations();\n  }, []);\n\n  // Generate report data\n  const handleGenerateReport = async () => {\n    if (!startDate || !endDate) {\n      toast.error(\"Please select both start and end dates\");\n      return;\n    }\n    if (reportType === \"destination\" && !destination) {\n      toast.error(\"Please select a destination\");\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const startMillis = new Date(startDate).getTime();\n      const endMillis = new Date(endDate).getTime();\n      let url = `http://localhost:5000/api/reports/summary?start=${startMillis}&end=${endMillis}&period=${reportPeriod}`;\n      if (reportType === \"destination\") {\n        url += `&destination=${encodeURIComponent(destination)}`;\n      }\n      const response = await fetch(url);\n      if (!response.ok) throw new Error(\"Failed to fetch report data\");\n      const data = await response.json();\n      setTotalRevenue(data.totalRevenue);\n      setTotalTickets(data.totalTickets);\n      setTableData(data.tickets);\n      toast.success(\"Report generated successfully!\");\n      return {\n        revenueChart: {\n          type: \"line\",\n          data: {\n            labels: data.labels,\n            datasets: [{\n              label: \"Revenue (RWF)\",\n              data: data.revenueData,\n              borderColor: \"rgb(59,130,246)\",\n              backgroundColor: \"rgba(59,130,246,0.1)\",\n              fill: true,\n              tension: 0.4\n            }]\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true,\n                title: {\n                  display: true,\n                  text: \"Revenue (RWF)\"\n                }\n              },\n              x: {\n                title: {\n                  display: true,\n                  text: \"Date\"\n                }\n              }\n            }\n          }\n        },\n        ticketChart: {\n          type: \"bar\",\n          data: {\n            labels: data.labels,\n            datasets: [{\n              label: \"Tickets Sold\",\n              data: data.ticketData,\n              backgroundColor: \"rgba(34,197,94,0.8)\",\n              borderColor: \"rgb(34,197,94)\",\n              borderWidth: 1\n            }]\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true,\n                title: {\n                  display: true,\n                  text: \"Tickets Sold\"\n                }\n              },\n              x: {\n                title: {\n                  display: true,\n                  text: \"Date\"\n                }\n              }\n            }\n          }\n        }\n      };\n    } catch (error) {\n      toast.error(`Error generating report: ${error.message}`);\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Export report as CSV\n  const handleExportReport = () => {\n    if (tableData.length === 0) {\n      toast.error(\"No data to export\");\n      return;\n    }\n    const csvContent = [[\"Date\", \"Destination\", \"Tickets Sold\", \"Revenue\", \"Status\"], ...tableData.map(ticket => {\n      var _ticket$schedule;\n      return [new Date(ticket.date).toLocaleDateString(), ((_ticket$schedule = ticket.schedule) === null || _ticket$schedule === void 0 ? void 0 : _ticket$schedule.destination) || \"N/A\", 1, `RWF ${ticket.totalAmount.toLocaleString()}`, ticket.payState];\n    })].map(row => row.join(\",\")).join(\"\\n\");\n    const blob = new Blob([csvContent], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = `report_${startDate}_${endDate}.csv`;\n    link.click();\n    toast.success(\"Report exported successfully!\");\n  };\n\n  // Render charts\n  const Charts = () => {\n    const charts = handleGenerateReport();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-t mb-0 px-4 py-3 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg text-blueGray-700\",\n              children: \"Revenue Trend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block w-full\",\n            children: (charts === null || charts === void 0 ? void 0 : charts.revenueChart.data.labels.length) > 0 && ```chartjs\n                {\n                  \"type\": \"line\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.revenueChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Revenue (RWF)\",\n                        \"data\": ${JSON.stringify(charts.revenueChart.data.datasets[0].data)},\n                        \"borderColor\": \"rgb(59,130,246)\",\n                        \"backgroundColor\": \"rgba(59,130,246,0.1)\",\n                        \"fill\": true,\n                        \"tension\": 0.4\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Revenue (RWF)\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-4/12 px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-t mb-0 px-4 py-3 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg text-blueGray-700\",\n              children: \"Ticket Sales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block w-full\",\n            children: (charts === null || charts === void 0 ? void 0 : charts.ticketChart.data.labels.length) > 0 && ```chartjs\n                {\n                  \"type\": \"bar\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.ticketChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Tickets Sold\",\n                        \"data\": ${JSON.stringify(charts.ticketChart.data.datasets[0].data)},\n                        \"backgroundColor\": \"rgba(34,197,94,0.8)\",\n                        \"borderColor\": \"rgb(34,197,94)\",\n                        \"borderWidth\": 1\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Tickets Sold\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 3000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\",\n        children: /*#__PURE__*/_jsxDEV(CardStats, {\n          statSubtitle: \"Total Revenue\",\n          statTitle: `RWF ${totalRevenue.toLocaleString()}`,\n          statArrow: \"up\",\n          statPercent: \"12\",\n          statPercentColor: \"text-emerald-500\",\n          statDescripiron: \"Since last month\",\n          statIconName: \"fas fa-dollar-sign\",\n          statIconColor: \"bg-emerald-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full xl:w-4/12 px-4\",\n        children: /*#__PURE__*/_jsxDEV(CardStats, {\n          statSubtitle: \"Total Tickets\",\n          statTitle: totalTickets.toLocaleString(),\n          statArrow: \"up\",\n          statPercent: \"3.48\",\n          statPercentColor: \"text-emerald-500\",\n          statDescripiron: \"Since last week\",\n          statIconName: \"fas fa-ticket-alt\",\n          statIconColor: \"bg-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-6\",\n            children: \"Report Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Report Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: reportType,\n                onChange: e => setReportType(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"overview\",\n                  children: \"Overview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"revenue\",\n                  children: \"Revenue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"tickets\",\n                  children: \"Tickets\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"destination\",\n                  children: \"Destination\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), reportType === \"destination\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Destination\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: destination,\n                onChange: e => setDestination(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Destination\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), destinations.map(dest => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dest,\n                  children: dest\n                }, dest, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Report Period\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: reportPeriod,\n                onChange: e => setReportPeriod(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"daily\",\n                  children: \"Daily\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"weekly\",\n                  children: \"Weekly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: startDate,\n                onChange: e => setStartDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"End Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: endDate,\n                onChange: e => setEndDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGenerateReport,\n              disabled: isLoading,\n              className: `px-6 py-2 text-white rounded-md transition-colors font-medium ${isLoading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-500 hover:bg-red-600\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chart-line mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), isLoading ? \"Generating...\" : \"Generate Report\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExportReport,\n              disabled: isLoading || tableData.length === 0,\n              className: `px-6 py-2 text-white rounded-md transition-colors font-medium ${isLoading || tableData.length === 0 ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-500 hover:bg-green-600\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-download mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), \"Export Report\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Charts, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full px-4\",\n        children: /*#__PURE__*/_jsxDEV(CardTable, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-t mb-0 px-4 py-3 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center justify-between\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative w-full px-4 max-w-full flex-grow flex-1\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-lg text-blueGray-700\",\n                  children: \"Detailed Report Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block w-full overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"items-center w-full bg-transparent border-collapse\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Destination\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Tickets Sold\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Revenue\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: tableData.map(ticket => {\n                  var _ticket$schedule2;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: new Date(ticket.date).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: ((_ticket$schedule2 = ticket.schedule) === null || _ticket$schedule2 === void 0 ? void 0 : _ticket$schedule2.destination) || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: `RWF ${ticket.totalAmount.toLocaleString()}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas fa-circle mr-2 ${ticket.payState === \"PAID\" ? \"text-emerald-500\" : \"text-orange-500\"}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 25\n                      }, this), ticket.payState]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 23\n                    }, this)]\n                  }, ticket.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Reports, \"HZgUcYzXqKxs33DY2C77iWxwziY=\");\n_c = Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","CardStats","CardTable","toast","ToastContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","Reports","_s","reportType","setReportType","reportPeriod","setReportPeriod","startDate","setStartDate","endDate","setEndDate","destination","setDestination","destinations","setDestinations","totalRevenue","setTotalRevenue","totalTickets","setTotalTickets","tableData","setTableData","isLoading","setIsLoading","fetchDestinations","response","fetch","ok","Error","data","json","error","message","handleGenerateReport","startMillis","Date","getTime","endMillis","url","encodeURIComponent","tickets","success","revenueChart","type","labels","datasets","label","revenueData","borderColor","backgroundColor","fill","tension","options","responsive","scales","y","beginAtZero","title","display","text","x","ticketChart","ticketData","borderWidth","handleExportReport","length","csvContent","map","ticket","_ticket$schedule","date","toLocaleDateString","schedule","totalAmount","toLocaleString","payState","row","join","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","Charts","charts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","JSON","stringify","position","autoClose","statSubtitle","statTitle","statArrow","statPercent","statPercentColor","statDescripiron","statIconName","statIconColor","value","onChange","e","target","dest","onClick","disabled","_ticket$schedule2","id","_c","$RefreshReg$"],"sources":["D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/src/views/admin/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CardStats from \"components/Cards/CardStats.js\";\nimport CardTable from \"components/Cards/CardTable.js\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function Reports() {\n  \n  const [reportType, setReportType] = useState(\"overview\");\n  const [reportPeriod, setReportPeriod] = useState(\"weekly\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [destination, setDestination] = useState(\"\");\n  const [destinations, setDestinations] = useState([]);\n\n  \n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tableData, setTableData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  \n  useEffect(() => {\n    const fetchDestinations = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/api/reports/destinations\");\n        if (!response.ok) throw new Error(\"Failed to fetch destinations\");\n        const data = await response.json();\n        setDestinations(data);\n      } catch (error) {\n        toast.error(`Error fetching destinations: ${error.message}`);\n      }\n    };\n    fetchDestinations();\n  }, []);\n\n  // Generate report data\n  const handleGenerateReport = async () => {\n    if (!startDate || !endDate) {\n      toast.error(\"Please select both start and end dates\");\n      return;\n    }\n    if (reportType === \"destination\" && !destination) {\n      toast.error(\"Please select a destination\");\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const startMillis = new Date(startDate).getTime();\n      const endMillis = new Date(endDate).getTime();\n      let url = `http://localhost:5000/api/reports/summary?start=${startMillis}&end=${endMillis}&period=${reportPeriod}`;\n      if (reportType === \"destination\") {\n        url += `&destination=${encodeURIComponent(destination)}`;\n      }\n\n      const response = await fetch(url);\n      if (!response.ok) throw new Error(\"Failed to fetch report data\");\n      const data = await response.json();\n\n      setTotalRevenue(data.totalRevenue);\n      setTotalTickets(data.totalTickets);\n      setTableData(data.tickets);\n\n      toast.success(\"Report generated successfully!\");\n      return {\n        revenueChart: {\n          type: \"line\",\n          data: {\n            labels: data.labels,\n            datasets: [\n              {\n                label: \"Revenue (RWF)\",\n                data: data.revenueData,\n                borderColor: \"rgb(59,130,246)\",\n                backgroundColor: \"rgba(59,130,246,0.1)\",\n                fill: true,\n                tension: 0.4,\n              },\n            ],\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: { beginAtZero: true, title: { display: true, text: \"Revenue (RWF)\" } },\n              x: { title: { display: true, text: \"Date\" } },\n            },\n          },\n        },\n        ticketChart: {\n          type: \"bar\",\n          data: {\n            labels: data.labels,\n            datasets: [\n              {\n                label: \"Tickets Sold\",\n                data: data.ticketData,\n                backgroundColor: \"rgba(34,197,94,0.8)\",\n                borderColor: \"rgb(34,197,94)\",\n                borderWidth: 1,\n              },\n            ],\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: { beginAtZero: true, title: { display: true, text: \"Tickets Sold\" } },\n              x: { title: { display: true, text: \"Date\" } },\n            },\n          },\n        },\n      };\n    } catch (error) {\n      toast.error(`Error generating report: ${error.message}`);\n      return null;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Export report as CSV\n  const handleExportReport = () => {\n    if (tableData.length === 0) {\n      toast.error(\"No data to export\");\n      return;\n    }\n\n    const csvContent = [\n      [\"Date\", \"Destination\", \"Tickets Sold\", \"Revenue\", \"Status\"],\n      ...tableData.map((ticket) => [\n        new Date(ticket.date).toLocaleDateString(),\n        ticket.schedule?.destination || \"N/A\",\n        1,\n        `RWF ${ticket.totalAmount.toLocaleString()}`,\n        ticket.payState,\n      ]),\n    ]\n      .map((row) => row.join(\",\"))\n      .join(\"\\n\");\n\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = `report_${startDate}_${endDate}.csv`;\n    link.click();\n    toast.success(\"Report exported successfully!\");\n  };\n\n  // Render charts\n  const Charts = () => {\n    const charts = handleGenerateReport();\n    return (\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\">\n          <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <h3 className=\"font-semibold text-lg text-blueGray-700\">Revenue Trend</h3>\n            </div>\n            <div className=\"block w-full\">\n              {charts?.revenueChart.data.labels.length > 0 && (\n                ```chartjs\n                {\n                  \"type\": \"line\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.revenueChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Revenue (RWF)\",\n                        \"data\": ${JSON.stringify(charts.revenueChart.data.datasets[0].data)},\n                        \"borderColor\": \"rgb(59,130,246)\",\n                        \"backgroundColor\": \"rgba(59,130,246,0.1)\",\n                        \"fill\": true,\n                        \"tension\": 0.4\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Revenue (RWF)\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"w-full xl:w-4/12 px-4\">\n          <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <h3 className=\"font-semibold text-lg text-blueGray-700\">Ticket Sales</h3>\n            </div>\n            <div className=\"block w-full\">\n              {charts?.ticketChart.data.labels.length > 0 && (\n                ```chartjs\n                {\n                  \"type\": \"bar\",\n                  \"data\": {\n                    \"labels\": ${JSON.stringify(charts.ticketChart.data.labels)},\n                    \"datasets\": [\n                      {\n                        \"label\": \"Tickets Sold\",\n                        \"data\": ${JSON.stringify(charts.ticketChart.data.datasets[0].data)},\n                        \"backgroundColor\": \"rgba(34,197,94,0.8)\",\n                        \"borderColor\": \"rgb(34,197,94)\",\n                        \"borderWidth\": 1\n                      }\n                    ]\n                  },\n                  \"options\": {\n                    \"responsive\": true,\n                    \"scales\": {\n                      \"y\": { \"beginAtZero\": true, \"title\": { \"display\": true, \"text\": \"Tickets Sold\" } },\n                      \"x\": { \"title\": { \"display\": true, \"text\": \"Date\" } }\n                    }\n                  }\n                }\n                ```\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n      {/* Stats Cards */}\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4\">\n          <CardStats\n            statSubtitle=\"Total Revenue\"\n            statTitle={`RWF ${totalRevenue.toLocaleString()}`}\n            statArrow=\"up\"\n            statPercent=\"12\"\n            statPercentColor=\"text-emerald-500\"\n            statDescripiron=\"Since last month\"\n            statIconName=\"fas fa-dollar-sign\"\n            statIconColor=\"bg-emerald-500\"\n          />\n        </div>\n        <div className=\"w-full xl:w-4/12 px-4\">\n          <CardStats\n            statSubtitle=\"Total Tickets\"\n            statTitle={totalTickets.toLocaleString()}\n            statArrow=\"up\"\n            statPercent=\"3.48\"\n            statPercentColor=\"text-emerald-500\"\n            statDescripiron=\"Since last week\"\n            statIconName=\"fas fa-ticket-alt\"\n            statIconColor=\"bg-red-500\"\n          />\n        </div>\n      </div>\n\n      {/* Report Configuration */}\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full px-4\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-6\">Report Configuration</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Report Type</label>\n                <select\n                  value={reportType}\n                  onChange={(e) => setReportType(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"overview\">Overview</option>\n                  <option value=\"revenue\">Revenue</option>\n                  <option value=\"tickets\">Tickets</option>\n                  <option value=\"destination\">Destination</option>\n                </select>\n              </div>\n              {reportType === \"destination\" && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Destination</label>\n                  <select\n                    value={destination}\n                    onChange={(e) => setDestination(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select Destination</option>\n                    {destinations.map((dest) => (\n                      <option key={dest} value={dest}>\n                        {dest}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Report Period</label>\n                <select\n                  value={reportPeriod}\n                  onChange={(e) => setReportPeriod(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"daily\">Daily</option>\n                  <option value=\"weekly\">Weekly</option>\n                  <option value=\"monthly\">Monthly</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Start Date</label>\n                <input\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">End Date</label>\n                <input\n                  type=\"date\"\n                  value={endDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={handleGenerateReport}\n                disabled={isLoading}\n                className={`px-6 py-2 text-white rounded-md transition-colors font-medium ${\n                  isLoading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-500 hover:bg-red-600\"\n                }`}\n              >\n                <i className=\"fas fa-chart-line mr-2\"></i>\n                {isLoading ? \"Generating...\" : \"Generate Report\"}\n              </button>\n              <button\n                onClick={handleExportReport}\n                disabled={isLoading || tableData.length === 0}\n                className={`px-6 py-2 text-white rounded-md transition-colors font-medium ${\n                  isLoading || tableData.length === 0 ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-500 hover:bg-green-600\"\n                }`}\n              >\n                <i className=\"fas fa-download mr-2\"></i>\n                Export Report\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Charts */}\n      <Charts />\n\n      {/* Detailed Report Table */}\n      <div className=\"flex flex-wrap mt-4\">\n        <div className=\"w-full px-4\">\n          <CardTable>\n            <div className=\"rounded-t mb-0 px-4 py-3 border-0\">\n              <div className=\"flex flex-wrap items-center justify-between\">\n                <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n                  <h3 className=\"font-semibold text-lg text-blueGray-700\">Detailed Report Data</h3>\n                </div>\n              </div>\n            </div>\n            <div className=\"block w-full overflow-x-auto\">\n              <table className=\"items-center w-full bg-transparent border-collapse\">\n                <thead>\n                  <tr>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Date</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Destination</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Tickets Sold</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Revenue</th>\n                    <th className=\"px-6 py-3 text-xs uppercase font-semibold text-left bg-blueGray-50\">Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tableData.map((ticket) => (\n                    <tr key={ticket.id}>\n                      <td className=\"px-6 py-4\">{new Date(ticket.date).toLocaleDateString()}</td>\n                      <td className=\"px-6 py-4\">{ticket.schedule?.destination || \"N/A\"}</td>\n                      <td className=\"px-6 py-4\">1</td>\n                      <td className=\"px-6 py-4\">{`RWF ${ticket.totalAmount.toLocaleString()}`}</td>\n                      <td className=\"px-6 py-4\">\n                        <i\n                          className={`fas fa-circle mr-2 ${\n                            ticket.payState === \"PAID\" ? \"text-emerald-500\" : \"text-orange-500\"\n                          }`}\n                        ></i>\n                        {ticket.payState}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardTable>\n        </div>\n      </div>\n    </>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}